<?xml version="1.0" encoding="utf-8"?>
<launch>
    <!-- Launch training world with table -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch">
        <arg name="world_name" value="$(find simple_manipulator)/world/training_world.world"/>
        <arg name="paused" value="false"/>
        <arg name="use_sim_time" value="true"/>
        <arg name="gui" value="true"/>
        <arg name="headless" value="false"/>
    </include>

    <!-- Load URDF and spawn manipulator -->
    <param name="robot_description" command="cat '$(find simple_manipulator)/urdf/manipulator.urdf'" />
    <node name="spawn_model" pkg="gazebo_ros" type="spawn_model"
          args="-param robot_description -urdf -model manipulator -x 0.6 -y 0 -z 0.75" output="screen" />

    <!-- Controllers -->
    <rosparam command="load" file="$(find simple_manipulator)/config/controllers.yaml" ns="manipulator" />
    <node name="controller_spawner" pkg="controller_manager" type="spawner" ns="manipulator"
          args="joint_state_controller shoulder_pan_joint_effort shoulder_lift_joint_effort elbow_joint_effort wrist_1_joint_effort wrist_2_joint_effort wrist_3_joint_effort"
          output="screen" />

    <!-- Episode randomizer: coke can path and randomization -->
    <param name="coke_can_sdf_path" value="$(find simple_manipulator)/world/objects/coke_can/model.sdf" />
    <node name="episode_randomizer" pkg="cobot_simulation" type="episode_randomizer.py" output="screen" />

</launch>

